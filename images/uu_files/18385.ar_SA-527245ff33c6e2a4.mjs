"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18385],{558273:(e,t,i)=>{i.d(t,{NK:()=>y,P6:()=>a,VX:()=>l,ZE:()=>g,Zt:()=>_,_J:()=>d,_S:()=>m,cL:()=>h,jL:()=>n,oN:()=>o,rM:()=>x,sV:()=>u,sY:()=>c});var r=i(115557);let o=5e3,a=o/r.gJ,s=["Uploaded by user"],l=(e,t)=>t&&t.products&&t.products.length>0||e?.products&&e.products.length>0||!1,n=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,u=e=>["email","messages","deep_linking"].includes(e),c=e=>!!e&&"gif"===e,p=e=>"pinstory"===e,h=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!c(i)&&!p(t),x=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,g=e=>/pin.it/gim.test(e||""),_=({link:e,mobileLink:t,origImageUrl:i,trackedLink:r})=>t||r||e||i||"",y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function m(e){for(let t of s)if(e===t)return!1;return!0}},314018:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(860208),o=i(337478);function a({bubbleId:e,pinId:t,query:i,referringSource:a,storyCategory:s,storyId:l,title:n}){let d=[0,24,21,26].includes(s),u=(0,o.Z)({q:i,rs:a||void 0,b_id:e,source_id:l,top_pin_id:t}),c=d&&n?(0,r.x)({title:n,id:e,articleType:"discover"}):`/discover/article/${e}/`;return d?c:`/search/pins/${u?"?"+u:""}`}},818385:(e,t,i)=>{i.d(t,{Z:()=>_});var r=i(667294),o=i(883119),a=i(205841),s=i(140017),l=i(184390),n=i(340523),d=i(314018),u=i(575742),c=i(427514),p=i(149722),h=i(67664),x=i(739711),g=i(785893);function _({bubble:e,contextLogData:t,disableTabIndex:i,handleReport:_,height:y,imgSignature:m,isHovered:b,onClick:f,onMouseEnter:v,onMouseLeave:j,referringSource:T,searchBoxRenderStopwatch:P,showFlag:w,slotIndex:S,storyId:C,viewParameter:R,viewType:I,width:O}){let k=(0,s.ZP)(),z=(0,p.Z)(),{id:E,action:A,aux_fields:M,cover_images:D,dominant_colors:F,identifier_icon_type:L,title:N,story_category:Z,curator:H}=e,{checkExperiment:B}=(0,n.F)(),{isAuth:W}=z,X="",J="";if(W&&5===I){X=B("blp_explore_bubble_image_size").group;let e=X.split("_");e.length>1&&X.startsWith("enabled")&&(J=e[1])}let U=D&&D[0]&&(X.startsWith("enabled")&&J?D[0][J]:D[0]["280x280"]||D[0]["236x"]),$=(0,c.Z)(N&&N.format||"",N&&N.args||{}),q=F&&F.length?F[0]:"gray",V=A?.url||(0,d.Z)({storyCategory:Z,query:$,referringSource:T,bubbleId:E,storyId:C,title:N.format,pinId:M?.image_pin_id});return(0,g.jsx)(l.Z,{contextLogData:{story_id:C,...t},impressionAuxFields:{storyCategory:Z,storyIdStr:C},impressionType:"Article",loggingId:E,pinData:null,slotIndex:S,viewParameter:R,viewType:I,children:(0,g.jsx)(h.Z,{backgroundColor:q,coverImage:U,disableTabIndex:i,height:y,id:E,isHovered:b,onClick:f,onMouseEnter:v,onMouseLeave:j,searchBoxRenderStopwatch:P,url:V,width:O,children:({isHovered:e})=>(0,g.jsxs)(r.Fragment,{children:[H&&26!==Z&&(0,g.jsx)(o.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,g.jsx)(a.qE,{name:H.full_name,outline:!0,size:"xs",src:H.image_small_url})}),L&&L!==u.J&&(0,g.jsx)(o.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,g.jsx)(o.JO,{accessibilityLabel:k.bt("أيقونة التسوق", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",icon:(0,u.Z)(L),size:12})}),(0,g.jsx)(o.xu,{alignItems:26===Z?"end":"center","data-test-id":"discover-bubble",display:"flex",height:y,justifyContent:"center",padding:3,position:"absolute",top:!0,width:O||"100%",children:(0,g.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[y>200?(0,g.jsx)(o.X6,{align:"center",color:"light",size:"500",children:$}):(0,g.jsx)(o.xv,{align:"center",color:"light",weight:"bold",children:$}),H&&26===Z&&(0,g.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,g.jsx)(o.xu,{marginEnd:2,children:(0,g.jsx)(a.qE,{name:H.full_name,outline:!0,size:"xs",src:H.image_small_url})}),(0,g.jsx)(o.xv,{color:"light",size:"100",children:H.full_name})]})]})}),z.isAuth&&z.isEmployee&&w?(0,g.jsx)(o.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,g.jsx)(x.Z,{handleReport:_,imgSignature:m||"",isVisible:e})}):null]})})})}},67664:(e,t,i)=>{i.d(t,{A:()=>s,Z:()=>l});var r=i(667294),o=i(883119),a=i(785893);let s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function l({backgroundColor:e,children:t,coverImage:i,disableTabIndex:l,height:n,id:d,isHovered:u,onClick:c,onMouseDown:p,onMouseEnter:h,onMouseLeave:x,searchBoxRenderStopwatch:g,url:_,width:y}){let[m,b]=(0,r.useState)(!1),f=()=>{h?h():b(!0)},v=()=>{x?x():b(!1)},j=u||m,T=j?s.hoverOverlay:s.bubbleOverlay;return(0,a.jsx)(o.Tg,{href:_,onBlur:v,onFocus:f,onMouseDown:p,onMouseEnter:f,onMouseLeave:v,onTap:()=>{c?.(d)},rounding:4,tabIndex:l?-1:void 0,children:(0,a.jsx)(o.zd,{height:n,rounding:4,width:y||"100%",children:i?.url?(0,a.jsxs)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,onLoad:()=>{g?.stop()},role:"presentation",src:i.url,children:[(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:T},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:j}):t]}):(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},739711:(e,t,i)=>{i.d(t,{Z:()=>y});var r=i(667294),o=i(883119),a=i(107366),s=i(930837),l=i(454514),n=i(140017),d=i(13848);let u={transparent:{backgroundColor:"transparent"},transparentHovered:{backgroundColor:"rgba(216, 216, 216, 0.37)"},pog:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},buttonFocus:{outline:"0"}};var c=i(785893);function p(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h extends r.Component{constructor(...e){super(...e),p(this,"state",{hovered:!1}),p(this,"handleMouseEnter",()=>this.setState({hovered:!0})),p(this,"handleMouseLeave",()=>this.setState({hovered:!1}))}render(){let{backgroundHaloSize:e,onClick:t,color:i="subtle"}=this.props,r=Object.freeze({height:e,width:e}),a={border:0,display:"block",background:"transparent",cursor:"pointer",...u.buttonFocus},s={...u.pog,...u.transparent,...this.state.hovered?u.transparentHovered:{}},l={...r,...s};return(0,c.jsx)("button",{onClick:e=>t&&t({event:e}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:a,type:"button",children:(0,c.jsx)("div",{style:l,children:(0,c.jsx)(o.xu,{rounding:"circle",children:(0,c.jsx)(o.JO,{accessibilityLabel:"",color:i,icon:"flag",size:e/2})})})})}}var x=i(825784);function g(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:String(r))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends r.PureComponent{constructor(...e){super(...e),g(this,"state",{showModal:!1,reportType:null}),g(this,"handleDismiss",()=>this.setState({showModal:!1})),g(this,"handleClick",()=>{let{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()}),g(this,"reportSuggestionImage",async()=>{let{imgSignature:e,reportImage:t}=this.props;this.setState({showModal:!1});let i=await (0,a.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}}),{id:r,node_id:o}=i.resource_response.data;t({id:r,nodeId:o})}),g(this,"reportSuggestionText",()=>{let{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast(({hideToast:e})=>(0,c.jsx)(l.ZP,{onHide:e,text:this.props.i18n.bt("شكرًا لك على الإبلاغ! سيقوم فريق الثقة والأمان لدينا بمراجعة ذلك", "Thanks for your report! This will be reviewed by our Trust and Safety Team", "ReportingFlag.Toast.text", undefined, true)})),this.handleDismiss())}),g(this,"showModal",({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})})}render(){let{showModal:e}=this.state;return(0,c.jsxs)(r.Fragment,{children:[this.props.isVisible&&(0,c.jsx)(h,{backgroundHaloSize:24,onClick:this.showModal}),e&&(0,c.jsx)(s.ZP,{accessibilityModalLabel:this.props.i18n.bt("الإبلاغ عن مُصطلح البحث", "Report search term", "ReportingFlag.Modal.accessibilityModalLabel", undefined, true),heading:this.props.i18n.bt("الإبلاغ عن مُصطلح البحث", "Report search term", "ReportingFlag.Modal.heading", undefined, true),onDismiss:this.handleDismiss,size:"sm",children:(0,c.jsxs)(o.xu,{children:[(0,c.jsx)(o.xu,{padding:5,children:(0,c.jsx)(o.xv,{children:this.props.i18n.bt("عندما تبلغ عن هذا، سيقوم فريق الثقة والأمان لدينا بمراجعته. وإن لم يتوافق مع إرشادات المُنتدى لدينا، فسيتم حظره.", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true)})}),(0,c.jsxs)(o.FX,{id:"reporting-flag-options-group",legend:this.props.i18n.bt("عندما تبلغ عن هذا، سيقوم فريق الثقة والأمان لدينا بمراجعته. وإن لم يتوافق مع إرشادات المُنتدى لدينا، فسيتم حظره.", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true),legendDisplay:"hidden",children:[(0,c.jsxs)(o.xu,{direction:"column",display:"flex",marginBottom:4,paddingX:5,role:"list",children:[(0,c.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,c.jsx)(o.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,c.jsx)(o.xu,{flex:"grow",children:(0,c.jsx)(o.__,{htmlFor:"textType",children:(0,c.jsx)(o.xu,{paddingX:2,children:(0,c.jsx)(o.xv,{children:"Report search text"})})})})]}),(0,c.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:1,children:[(0,c.jsx)(o.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,c.jsx)(o.xu,{flex:"grow",children:(0,c.jsx)(o.__,{htmlFor:"imageType",children:(0,c.jsx)(o.xu,{paddingX:2,children:(0,c.jsx)(o.xv,{children:"Report search image"})})})})]})]}),(0,c.jsx)(o.iz,{}),(0,c.jsxs)(o.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,c.jsx)(o.xu,{margin:2,children:(0,c.jsx)(o.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n.bt("إلغاء", "Cancel", "ReportingFlag.Box.Button.text.cancel", undefined, true)})}),(0,c.jsx)(o.xu,{margin:2,children:(0,c.jsx)(o.zx,{color:"red",disabled:!this.state.reportType,fullWidth:!0,onClick:this.handleClick,text:this.props.i18n.bt("الإبلاغ", "Report", "ReportingFlag.Box.Button.text.report", undefined, true)})})]})]})]})})]})}}function y(e){let t=(0,n.ZP)(),{reportImage:i}=(0,x.f)();return(0,c.jsx)(_,{...e,i18n:t,reportImage:i,toastManagerContext:(0,d.F9)()})}},825784:(e,t,i)=>{i.d(t,{X:()=>u,f:()=>d});var r=i(667294),o=i(342513),a=i(558273);function s(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type,isThirdPartyAd:t.payload.isThirdPartyAd,nodeId:t.payload.nodeId};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var l=i(785893);let{Provider:n,useHook:d}=(0,o.Z)("ReportData");function u({children:e}){let[t,i]=(0,r.useReducer)(s,null),o=(0,r.useCallback)(()=>i({type:"REPORT_CONTENT_DISMISS"}),[]),d=(0,r.useCallback)((e,t,r)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:r,nodeId:null}}),[]),u=(0,r.useCallback)((e,t,r)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"conversation",nodeId:null}}),[]),c=(0,r.useCallback)(({id:e,viewParameter:t,viewType:r,nodeId:o})=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:r,type:"pin",nodeId:o}}),[]),p=(0,r.useCallback)(({pinId:e,isDownstreamPromotion:t,hasPromoter:r,firstVideoDuration:o,isProduct:s,viewParameter:l,viewType:n,isThirdPartyAd:d,nodeId:u})=>{let c=(0,a.jL)(t,r);i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:s,isPromoted:c,videoDuration:o,viewParameter:l,viewType:n,type:"pin",isThirdPartyAd:d,nodeId:u}})},[]),h=(0,r.useMemo)(()=>({reportData:t,dismiss:o,reportComment:d,reportConversation:u,reportImage:c,reportPin:p}),[t,o,d,u,c,p]);return(0,l.jsx)(n,{value:h,children:e})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/18385.ar_SA-527245ff33c6e2a4.mjs.map